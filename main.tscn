[gd_scene load_steps=21 format=3 uid="uid://o1f7of3g6sug"]

[ext_resource type="Script" uid="uid://d140xfa1pxnki" path="res://game_manager.gd" id="1_h2yge"]
[ext_resource type="Script" uid="uid://dipjbs5broelb" path="res://priest.gd" id="1_ig7tw"]
[ext_resource type="Script" uid="uid://cau40mrokrh14" path="res://cloud_spawner.gd" id="2_0xm2m"]
[ext_resource type="PackedScene" uid="uid://c382wual1ah3b" path="res://cross.tscn" id="3_272bh"]
[ext_resource type="Texture2D" uid="uid://c7amotlpb30eg" path="res://Sprites/priest1.png" id="4_272bh"]
[ext_resource type="Texture2D" uid="uid://caiqvel7jo6q7" path="res://Sprites/priest1_new.png" id="5_82xsv"]
[ext_resource type="PackedScene" uid="uid://dggbdab14qbq3" path="res://cloud.tscn" id="6_5vw27"]
[ext_resource type="Texture2D" uid="uid://c4og8wie7gl8n" path="res://Sprites/priest1.1_new.png" id="6_getpj"]
[ext_resource type="Texture2D" uid="uid://bmw4li8qdnfqf" path="res://Sprites/Background.png" id="7_5vw27"]
[ext_resource type="Texture2D" uid="uid://bte5x3opqkidm" path="res://Sprites/sand-land.png" id="8_5vw27"]
[ext_resource type="Script" uid="uid://yiek3rgvon3x" path="res://land.gd" id="8_kek77"]
[ext_resource type="Script" uid="uid://bskaem1bdenc" path="res://imp_spawner.gd" id="8_w48qg"]
[ext_resource type="PackedScene" uid="uid://oneeq6r4xy2g" path="res://Imp.tscn" id="9_vivmo"]
[ext_resource type="FontFile" uid="uid://ddpjgx24oexy0" path="res://font/ARCADECLASSIC.TTF" id="10_074og"]
[ext_resource type="Texture2D" uid="uid://kr6jkh0ot3ru" path="res://Sprites/mid-land.png" id="10_efxa6"]
[ext_resource type="Texture2D" uid="uid://dodes7kevhjbm" path="res://Sprites/grass-land.png" id="11_dg77c"]
[ext_resource type="AudioStream" uid="uid://ccmei21k7ery3" path="res://audio/8bit toto intro.mp3" id="15_yaehf"]
[ext_resource type="AudioStream" uid="uid://dp46q5xt02k15" path="res://audio/8bit toto during gameplay.mp3" id="16_074og"]
[ext_resource type="AudioStream" uid="uid://pnudye57dnlb" path="res://audio/toto real, creshendo.mp3" id="17_cegan"]
[ext_resource type="AudioStream" uid="uid://cdq0v5ih71bvn" path="res://audio/toto shitty flute.mp3" id="19_cegan"]

[node name="Main" type="Node2D"]
script = ExtResource("1_h2yge")
land = NodePath("Land")

[node name="Background" type="Sprite2D" parent="."]
z_index = -1000
position = Vector2(639.035, 359.5)
scale = Vector2(0.66979164, 0.6731481)
texture = ExtResource("7_5vw27")

[node name="Priest" type="Node2D" parent="."]
z_index = 100
position = Vector2(134, 468)
scale = Vector2(1.1, 1.1)
script = ExtResource("1_ig7tw")
cross_scene = ExtResource("3_272bh")
sprite_idle = ExtResource("5_82xsv")
sprite_casting = ExtResource("6_getpj")

[node name="PriestSprite" type="Sprite2D" parent="Priest"]
position = Vector2(-10.056641, -9.796879)
scale = Vector2(1.1708152, 1.1480207)
texture = ExtResource("4_272bh")

[node name="HandMarker" type="Marker2D" parent="Priest"]
position = Vector2(35.18181, -71.09091)

[node name="CloudSpawner" type="Node2D" parent="."]
script = ExtResource("2_0xm2m")
cloud_scene = ExtResource("6_5vw27")
max_clouds = 12

[node name="ImpSpawner" type="Node2D" parent="."]
script = ExtResource("8_w48qg")
imp_scene = ExtResource("9_vivmo")
max_imps = 8

[node name="Land" type="Node2D" parent="."]
position = Vector2(640.375, 608)
scale = Vector2(0.6680989, 0.6338798)
script = ExtResource("8_kek77")
sprites = Array[Texture2D]([ExtResource("8_5vw27"), ExtResource("10_efxa6"), ExtResource("11_dg77c")])

[node name="LandSprite" type="Sprite2D" parent="Land"]
z_index = -500
scale = Vector2(1.0000001, 1)
texture = ExtResource("8_5vw27")

[node name="UI" type="CanvasLayer" parent="."]

[node name="MainMenu" type="Control" parent="UI"]
layout_mode = 3
anchors_preset = 0

[node name="TitleLabel" type="Label" parent="UI/MainMenu"]
layout_mode = 0
offset_left = 113.0
offset_top = 100.0
offset_right = 1177.0
offset_bottom = 195.0
theme_override_fonts/font = ExtResource("10_074og")
theme_override_font_sizes/font_size = 93
text = "BLESSING    IN    THE    SKIES"

[node name="DescriptionLabel" type="Label" parent="UI/MainMenu"]
layout_mode = 0
offset_left = -391.0
offset_top = 178.0
offset_right = -41.0
offset_bottom = 357.0
theme_override_fonts/font = ExtResource("10_074og")
theme_override_font_sizes/font_size = 19
text = "You are a wandering priest.
Guide the holy cross through the skies
and bring rain to the land below.

But beware!
For mischievous imps will try to steal
your blessing mid-flight."

[node name="ControlsLabel" type="Label" parent="UI/MainMenu"]
layout_mode = 0
offset_left = 230.0
offset_top = 292.0
offset_right = 522.0
offset_bottom = 517.0
theme_override_fonts/font = ExtResource("10_074og")
theme_override_font_sizes/font_size = 24
text = "                    CONTROLS
			            GAMEPAD   ONLY

Move                      -     Left  Stick
Interact    -    A   Button 
Restart         -    Start  Button
Home                      -    Back   Button"

[node name="StartButton" type="Button" parent="UI/MainMenu"]
layout_mode = 0
offset_left = 554.0
offset_top = 282.0
offset_right = 1021.0
offset_bottom = 379.0
focus_neighbor_bottom = NodePath("../QuitButton")
theme_override_fonts/font = ExtResource("10_074og")
theme_override_font_sizes/font_size = 66
text = "START BLESSIN'"

[node name="QuitButton" type="Button" parent="UI/MainMenu"]
layout_mode = 0
offset_left = 729.0
offset_top = 440.0
offset_right = 847.0
offset_bottom = 499.0
focus_neighbor_top = NodePath("../StartButton")
theme_override_fonts/font = ExtResource("10_074og")
theme_override_font_sizes/font_size = 50
text = "Quit"

[node name="GameHUD" type="Control" parent="UI"]
layout_mode = 3
anchors_preset = 0
offset_left = 16.0
offset_top = 21.0
offset_right = 130.0
offset_bottom = 61.0

[node name="TimerLabel" type="Label" parent="UI/GameHUD"]
layout_mode = 0
offset_right = 40.0
offset_bottom = 23.0
theme_override_fonts/font = ExtResource("10_074og")
theme_override_font_sizes/font_size = 26
text = "TIME  :  999"

[node name="EndMenu" type="Control" parent="UI"]
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="ResultLabel" type="Label" parent="UI/EndMenu"]
layout_mode = 0
offset_left = 83.0
offset_top = 287.0
offset_right = 514.0
offset_bottom = 343.0
theme_override_fonts/font = ExtResource("10_074og")
theme_override_font_sizes/font_size = 37
text = "RESULT    LABEL"
horizontal_alignment = 1
autowrap_mode = 2

[node name="RestartButton" type="Button" parent="UI/EndMenu"]
layout_mode = 0
offset_left = 554.0
offset_top = 208.0
offset_right = 1020.0
offset_bottom = 309.0
focus_neighbor_bottom = NodePath("../MainMenuButton")
theme_override_fonts/font = ExtResource("10_074og")
theme_override_font_sizes/font_size = 66
text = "PLAY AGAIN"

[node name="MainMenuButton" type="Button" parent="UI/EndMenu"]
layout_mode = 0
offset_left = 579.0
offset_top = 338.0
offset_right = 994.0
offset_bottom = 405.0
focus_neighbor_top = NodePath("../RestartButton")
focus_neighbor_bottom = NodePath("../QuitButton")
theme_override_fonts/font = ExtResource("10_074og")
theme_override_font_sizes/font_size = 36
text = "RETURN TO MAIN MENU"

[node name="QuitButton" type="Button" parent="UI/EndMenu"]
layout_mode = 0
offset_left = 725.0
offset_top = 437.0
offset_right = 856.0
offset_bottom = 503.0
focus_neighbor_top = NodePath("../MainMenuButton")
theme_override_fonts/font = ExtResource("10_074og")
theme_override_font_sizes/font_size = 50
text = "Quit"

[node name="Audio" type="Node2D" parent="."]

[node name="IntroMusic" type="AudioStreamPlayer2D" parent="Audio"]
stream = ExtResource("15_yaehf")

[node name="GameMusic" type="AudioStreamPlayer2D" parent="Audio"]
stream = ExtResource("16_074og")
volume_db = -1.0

[node name="WinEndMusic" type="AudioStreamPlayer2D" parent="Audio"]
stream = ExtResource("17_cegan")
volume_db = 2.0

[node name="FailEndMusic" type="AudioStreamPlayer2D" parent="Audio"]
stream = ExtResource("19_cegan")
volume_db = 2.0

[connection signal="pressed" from="UI/MainMenu/StartButton" to="." method="_on_start_button_pressed"]
[connection signal="pressed" from="UI/MainMenu/QuitButton" to="." method="_on_quit_button_pressed"]
[connection signal="pressed" from="UI/EndMenu/RestartButton" to="." method="_on_restart_button_pressed"]
[connection signal="pressed" from="UI/EndMenu/MainMenuButton" to="." method="_on_main_menu_button_pressed"]
[connection signal="pressed" from="UI/EndMenu/QuitButton" to="." method="_on_quit_button_pressed"]
